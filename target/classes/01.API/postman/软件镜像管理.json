{
	"variables": [],
	"info": {
		"name": "软件镜像管理",
		"_postman_id": "3183e70e-9dbd-d3e9-8752-535c474597ef",
		"description": "",
		"schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
	},
	"item": [
		{
			"name": "软件镜像查询",
			"request": {
				"url": "http://192.168.2.121:4000/v1.0/image/<image_id>",
				"method": "GET",
				"header": [],
				"body": {
					"mode": "formdata",
					"formdata": []
				},
				"description": ""
			},
			"response": []
		},
		{
			"name": "软件镜像导入 for UPsql",
			"request": {
				"url": "http://192.168.2.121:4000/v1.0/image/load",
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"description": ""
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"name\": \"upsql\",\n    \"version\": \"5.6.19\",\n    \"path\": \"/DBaaS_images/upsql-5.6.19/upsql-5.6.19.tar\",\n    \"config_file_path\": \"/DBaaS_images/upsql-5.6.19/my.cnf.temp\",\n    \"config_mount_path\": \"/DBAASDAT/my.cnf\",\n    \"config_keyset\": []\n}"
				},
				"description": ""
			},
			"response": []
		},
		{
			"name": "软件镜像导入 for UPproxy",
			"request": {
				"url": "http://192.168.2.121:4000/v1.0/image/load",
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"description": ""
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"name\": \"upproxy\",\n    \"version\": \"1.0.2\",\n    \"path\": \"/DBaaS_images/upproxy-1.0.2/upproxy-1.0.2.tar\",\n    \"config_file_path\": \"/DBaaS_images/upproxy-1.0.2/upsql-proxy.conf.temp\",\n    \"config_mount_path\": \"/DBAASCNF/upsql-proxy.conf\",\n    \"config_keyset\": []\n}"
				},
				"description": ""
			},
			"response": []
		},
		{
			"name": "软件镜像导入 for switch_manager",
			"request": {
				"url": "http://192.168.2.121:4000/v1.0/image/load",
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"description": ""
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"name\": \"switch_manager\",\n    \"version\": \"1.0.2\",\n    \"path\": \"/DBaaS_images/switch_manager-1.0.2/switch_manager-1.0.2.tar\",\n    \"config_file_path\": \"/DBaaS_images/switch_manager-1.0.2/sm.conf.temp\",\n    \"config_mount_path\": \"/DBAASCNF/sm.conf\",\n    \"config_keyset\": []\n}"
				},
				"description": ""
			},
			"response": []
		},
		{
			"name": "软件镜像启用",
			"request": {
				"url": "http://192.168.2.121:4000/v1.0/image/<image_id>/enable",
				"method": "POST",
				"header": [],
				"body": {
					"mode": "formdata",
					"formdata": []
				},
				"description": ""
			},
			"response": []
		},
		{
			"name": "软件镜像停用",
			"request": {
				"url": "http://192.168.2.121:4000/v1.0/image/<image_id>/disable",
				"method": "POST",
				"header": [],
				"body": {
					"mode": "formdata",
					"formdata": []
				},
				"description": ""
			},
			"response": []
		},
		{
			"name": "软件镜像模版更新",
			"request": {
				"url": "http://192.168.2.121:4000/v1.0/image/<image_id>/template",
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"description": ""
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"config_content\": \"[upsql-proxy]\\n#标识\\nproxy-domain = <service_id>\\nproxy-name = <unit_id>\\n#默认数据库节点\\ndefault-datanode = default\\n#使用场景列表\\n#读写分离\\nneed-rw-split = false\\n#分库分表\\nneed-shard = false\\n#autocommit = true\\n#charset-names = gbk\\n#proxy客户端连接地址\\nproxy-address = <proxy_ip_addr>:<proxy_data_port>\\n#线程数\\nevent-threads-count = <cpu_num>\\n#基路径,其他路径相关参数的基路径,相对路径都以该基路径计算\\n#必须用户手动配置,且配置为绝对路径\\nbasedir = /usr/local/uproxy\\n#拓扑结构和虚拟数据库配置,相对路径\\ntopology-config = /DBAASCNF/topology.json\\n#virtual-database-config = /DBAASCNF/virtual-database.xml\\n#日志信息,相对路径\\nproxy-log-file = /DBAASLOG/upproxy.log\\n[adm-cli]\\n#adm-svr对外服务地址\\nadm-svr-address = <swm_ip_addr>:<swm_port>\\nadm-cli-event-threads-count = 2\\n#proxy接收proxy-cmd命令地址\\nadm-cli-address = <proxy_ip_addr>:<proxy_adm_port>\\n\",\n    \"config_keyset\": null\n}"
				},
				"description": ""
			},
			"response": []
		},
		{
			"name": "软件镜像删除",
			"request": {
				"url": "http://192.168.2.121:4000/v1.0/image/<image_id>",
				"method": "DELETE",
				"header": [],
				"body": {
					"mode": "formdata",
					"formdata": []
				},
				"description": ""
			},
			"response": []
		}
	]
}